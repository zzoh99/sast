$(function(){getUser();var inputId="searchKeyword";var url="../../jsp_jungsan/common/commonSelect.jsp?cmd=commonSelectList&queryId=getEmployeeAuthList";var formId="empForm";initEmployeeHeader(inputId,url,formId,employeeReturn);if(comSearchType=="P"){$("#searchKeyword").addClass("transparent");$("#searchKeyword").attr("readonly","readonly")}$("#searchKeyword").click(function(){$(this).select()})});function initEmployeeHeader(inputId,url,formId,employeeReturn){$("#"+inputId).autocomplete(employeeOption(inputId,url,formId,employeeReturn)).data("uiAutocomplete")._renderItem=employeeRenderItem}function employeeOption(inputId,url,formId,employeeReturn){return{source:function(request,response){$.ajax({url:url,type:"post",dataType:"json",data:$("#"+formId).serialize(),beforeSend:function(request){request.setRequestHeader("IBUserAgent","ajax")},success:function(data){response($.map(data.Data,function(item){return{label:item.emp_sabun+", "+item.enter_cd,searchNm:$("#"+inputId).val(),enterCd:item.enter_cd,empName:item.name,empSabun:item.sabun,orgNm:item.org_nm,jikweeNm:item.jikwee_nm,statusNm:item.status_nm,value:item.name}}))}})},minLength:2,select:employeeReturn,autoFocus:true,focus:function(){return false},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}}}function employeeRenderItem(ul,item){return $("<li />").data("item.autocomplete",item).append("<a class='employeeLIst'>"+"<span class='list_txt0'>"+String(item.empName).split(item.searchNm).join("<b>"+item.searchNm+"</b>")+"</span>"+"<span class='list_txt1'>"+item.empSabun+"</span>"+"<span class='list_txt2'>"+item.orgNm+"</span>"+"<span class='list_txt3'>"+item.jikweeNm+"</span>"+"<span class='list_txt4'>"+item.statusNm+"</span>"+"</a>").appendTo(ul)}function employeeReturn(event,ui){$("#searchUserId").val(ui.item.empSabun);getUser();setEmpPage()}function getUser(){var user=ajaxCall("../../jsp_jungsan/common/commonSelect.jsp?cmd=commonSelectMap&queryId=getEmployeeTaxDetail",$("#empForm").serialize(),false);if(user.Data!=null&&user.Data!="undefine"){user=user.Data}$("#searchKeyword").val(user.name);$("#tdSabun").html(user.sabun);$("#tdResNo").html(user.res_no==""?"":user.res_no.substr(0,6)+"-*******");$("#tdOrgNm").html(user.org_nm);$("#tdEmpYmd").html(user.emp_ymd);$("#tdRetYmd").html(user.ret_ymd);$("#searchRegNo_").val(user.res_no)}