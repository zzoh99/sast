$(function(){getUser();var inputId="searchKeyword";var url="/Employee.do?cmd=employeeList";var formId="empForm";initEmployeeHeader(inputId,url,formId,employeeReturn);if(comSearchType=="P"){$("#searchKeyword").addClass("transparent");$("#searchKeyword").attr("readonly","readonly");}$("#searchKeyword").click(function(){$(this).select();});});function initEmployeeHeader(inputId,url,formId,employeeReturn){$("#"+inputId).autocomplete(employeeOption(inputId,url,formId,employeeReturn)).data("uiAutocomplete")._renderItem=employeeRenderItem;}function employeeOption(inputId,url,formId,employeeReturn){return{source:function(request,response){$.ajax({url:url,type:"post",dataType:"json",data:$("#"+formId).serialize(),beforeSend:function(request){request.setRequestHeader("IBUserAgent","ajax");},success:function(data){response($.map(data.DATA,function(item){return{label:item.empSabun+", "+item.enterCd,searchNm:$("#"+inputId).val(),enterCd:item.enterCd,empName:item.empName,empSabun:item.empSabun,orgNm:item.orgNm,jikweeNm:item.jikweeNm,statusNm:item.statusNm,value:item.empName};}));}});},minLength:2,select:employeeReturn,focus:function(){return false;},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top");},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all");}};}function employeeRenderItem(ul,item){return $("<li />").data("item.autocomplete",item).append("<a class='employeeLIst'>"+"<span class='list_txt0'>"+String(item.empName).split(item.searchNm).join("<b>"+item.searchNm+"</b>")+"</span>"+"<span class='list_txt1'>"+item.empSabun+"</span>"+"<span class='list_txt2'>"+item.orgNm+"</span>"+"<span class='list_txt3'>"+item.jikweeNm+"</span>"+"<span class='list_txt4'>"+item.statusNm+"</span>"+"</a>").appendTo(ul);}function employeeReturn(event,ui){$("#searchUserId").val(ui.item.empSabun);getUser();setEmpPage();}function getUser(){var user=ajaxCall("/Employee.do?cmd=baseEmployeeDetail",$("#empForm").serialize(),false);if(user.map!=null&&user.map!="undefine"){user=user.map;}$("#searchKeyword").val(user.name);$("#tdSabun").html(user.sabun);$("#tdResNo").html(user.cresNo);$("#tdOrgNm").html(user.orgNm);$("#tdEmpYmd").html(user.empYmd);$("#tdRetYmd").html(user.retYmd);$("#searchRegNo_").val(user.resNo);}