import{_ as H}from"./CardLayoutPage-z7Ot5Mon.js";import{_ as J}from"./index-CumGydS7.js";import{_ as P}from"./Title-BJ3zLKDS.js";import{_ as Y}from"./Chip-vlPs3Nbz.js";import{r as D,s as y,w as b,y as L,x as G}from"./index-BFOXClhX.js";import{_ as K}from"./SubHeaderList-CodDH1MY.js";import{_ as O}from"./IconTitle-DEV3fxcl.js";import{a7 as R,r as M,d as T,G as l,N as x,O as i,a4 as e,m as s,X as m,$ as h,J as f,H as g,M as $,F as S,K as j,n as q}from"./vendor-CtPgUq0z.js";import{X as Q}from"./util-CVQSLEEn.js";import{b as I}from"./route-block-B_A1xBdJ.js";import{V as W}from"./VContainer-Ceb14mOA.js";import{V as Z}from"./VMenu-Bx_eH7x8.js";import{V as tt,a as et,b as st}from"./VList-Ox-UVslP.js";import"./IconWorkHistory-DuMsaT1x.js";import"./IconCheckboxOn-yIS7lOaB.js";import"./VChip-DO9wf5yx.js";import"./index-C6S597DR.js";import"./vuetify-DR-4rILF.js";/* empty css            */import"./common-D34F-MSN.js";import"./IconLabel-DDdv9MLN.js";import"./date-C5S46NFB.js";/* empty css              */import"./VDivider-DxSB8C2_.js";const at={class:"top-wrap"},ot={class:"content-wrap outline"},nt={class:"left-wrap"},it={class:"right-wrap"},lt={class:"filter-area"},ct={class:"d-flex ga-4 align-center pr-8 br-line bd-darken"},rt={class:"title-x-small-sb txt-tertiary"},dt={class:"ga-16"},ut={class:"d-flex ga-8 align-center"},pt={class:"body-small"},_t={class:"d-flex ga-8 align-center pr-8 br-line bd-darken"},mt={class:"body-small"},ht={class:"layout-list"},ft={class:"top"},gt={class:"d-flex ga-8 f-column"},vt={key:0,class:"body-small"},Ct={class:"d-flex ga-8 align-center h-30",style:{"min-width":"max-content"}},yt={class:"preview"},bt=["src"],xt={__name:"index",setup(kt){const N=D(),A=R(),B="";y("/api/front/layout/getLayoutMgrCount",{}).then(a=>{a.data&&a.data.auths.length>0&&(d.length=0,a.data.auths.forEach((t,o)=>{d.push({label:t.grpNm,chipText:`${t.cnt} 개`,chipIcon:"mdi-table",isActive:o===0,grpCd:t.grpCd,cnt:t.cnt})}),k(d[0]))});const d=M([]),v=T({}),u=M([]),k=a=>{d.forEach(t=>{t.isActive=t===a}),v.value=a,y("/api/front/layout/getLayoutMgrList",a).then(t=>{t.data.layouts.length>0?(u.length=0,t.data.layouts.forEach(o=>{const p=Q(o.imageUrl).replace("/LayoutThumbnail.do",`${B}/LayoutThumbnail.do`);u.push({title:o.mainMenuNm,update_date:o.chkdate,isSetting:o.settingYn==="Y",mainMenuCd:o.mainMenuCd,grpCd:a.grpCd,layoutCd:o.layoutCd,img:p})})):N.logout()})},c=T("grid"),w=a=>{c.value=a},E=[{title:"편집하기",action:"edit"}],V=(a,t)=>{const o={mainMenuCd:t.mainMenuCd,grpCd:t.grpCd,layoutCd:t.layoutCd};switch(a.action){case"edit":A.push({path:"detail",state:o});break;case"reset":y("/api/front/layout/deleteLayoutMgrConfig",o).then(p=>{const r=p.data;r&&(r.Message&&alert(r.Message),r.Code>0&&window.location.reload())});break}};return(a,t)=>{const o=O,p=K,r=G,C=Y,U=P,X=J,z=H;return l(),x(W,{fluid:"",class:"pa-0 layout-management"},{default:i(()=>[e("div",at,[s(o,{iconComponent:"icon-monitor-other",width:18,height:18,label:"레이아웃 관리",class:"simple"})]),e("div",ot,[e("div",nt,[s(p,{headerIcon:"mdi-clipboard-account-outline",headerLabel:"권한",items:d,onClick:k},null,8,["items"])]),e("div",it,[e("div",lt,[e("div",ct,[s(r,{label:"화면",class:"title-x-small-sb"}),e("span",rt,m(u.length),1)]),e("div",dt,[e("div",ut,[s(C,{chipText:"설정됨",chipColor:"blue"}),e("span",pt,m(v.value.cnt),1)]),e("div",_t,[s(C,{chipText:"설정 안됨"}),e("span",mt,m(u.length-v.value.cnt),1)]),e("div",null,[s(L,{density:"compact",class:f(["btn text toggle",{active:c.value==="grid"}]),onClick:t[0]||(t[0]=n=>w("grid"))},{default:i(()=>[s(b,null,{default:i(()=>[h("mdi-view-grid-outline")]),_:1})]),_:1},8,["class"]),s(L,{density:"compact",class:f(["btn text toggle",{active:c.value==="list"}]),onClick:t[1]||(t[1]=n=>w("list"))},{default:i(()=>[s(b,null,{default:i(()=>[h("mdi-view-list-outline")]),_:1})]),_:1},8,["class"])])])]),e("div",ht,[e("div",{class:f({list:c.value==="list"})},[(l(!0),g(S,null,$(u,n=>(l(),x(z,{class:"outline layout-card",key:n,onClick:_=>V({action:"edit"},n)},{default:i(()=>[e("div",ft,[e("div",gt,[s(U,{label:n.title,class:"sm",isClass:"txt-ellipsis"},null,8,["label"]),n.update_date?(l(),g("span",vt,m(n.update_date+" 수정됨"),1)):j("",!0)]),e("div",Ct,[s(C,{chipText:n.isSetting?"설정됨":"설정 안됨",class:f({blue:n.isSetting})},null,8,["chipText","class"]),s(Z,{location:"bottom end"},{activator:i(({props:_})=>[s(b,q({ref_for:!0},_),{default:i(()=>[h(" mdi-dots-horizontal ")]),_:2},1040)]),default:i(()=>[s(tt,{class:"expand-menu"},{default:i(()=>[(l(),g(S,null,$(E,(_,F)=>s(et,{key:F,onClick:wt=>V(_,n)},{default:i(()=>[s(st,null,{default:i(()=>[h(m(_.title),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),_:2},1024)])]),e("div",yt,[n.isSetting?(l(),g("img",{key:0,src:n.img,alt:"layout-preview"},null,8,bt)):(l(),x(X,{key:1,height:c.value==="list"?25:68,width:c.value==="list"?25:68},null,8,["height","width"]))])]),_:2},1032,["onClick"]))),128))],2)])])])]),_:1})}}};typeof I=="function"&&I(xt);export{xt as default};
