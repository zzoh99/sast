import{al as K,p as P,m as R,h as E,w as x,u as F,g as O,o as H,af as B,n as N,l as q,O as z,I as _,ah as L,f as Y,j as G,z as J}from"./vuetify-DR-4rILF.js";import{w as Q,a6 as X,W as Z,M as ee,H as ae,m as ne,I as te,u as se}from"./index-BFOXClhX.js";import{m as c,c as s,f as le,d as ue,s as T,u as ie,E as re,q as oe,x as de,w,A as ce}from"./vendor-CtPgUq0z.js";import{c as ve}from"./index-C6S597DR.js";function fe(e){const{t:r}=K();function o(a){let{name:u}=a;const n={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[u],l=e[`onClick:${u}`],v=l&&n?r(`$vuetify.input.${n}`,e.label??""):void 0;return c(Q,{icon:e[`${u}Icon`],"aria-label":v,onClick:l},null)}return{InputIcon:o}}const me=P({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...R(),...X({transition:{component:ve,leaveAbsolute:!0,group:!0}})},"VMessages"),ge=E()({name:"VMessages",props:me(),setup(e,r){let{slots:o}=r;const a=s(()=>x(e.messages)),{textColorClasses:u,textColorStyles:n}=Z(s(()=>e.color));return F(()=>c(ee,{transition:e.transition,tag:"div",class:["v-messages",u.value,e.class],style:[n.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&a.value.map((l,v)=>c("div",{class:"v-messages__message",key:`${v}-${a.value}`},[o.message?o.message({message:l}):l]))]})),{}}}),ye=P({focused:Boolean,"onUpdate:focused":B()},"focus");function we(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O();const o=H(e,"focused"),a=s(()=>({[`${r}--focused`]:o.value}));function u(){o.value=!0}function n(){o.value=!1}return{focusClasses:a,isFocused:o,focus:u,blur:n}}const pe=Symbol.for("vuetify:form");function he(){return le(pe,null)}const Ie=P({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ye()},"validation");function Ve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O(),o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N();const a=H(e,"modelValue"),u=s(()=>e.validationValue===void 0?a.value:e.validationValue),n=he(),l=ue([]),v=T(!0),S=s(()=>!!(x(a.value===""?null:a.value).length||x(u.value===""?null:u.value).length)),h=s(()=>!!(e.disabled??n?.isDisabled.value)),C=s(()=>!!(e.readonly??n?.isReadonly.value)),g=s(()=>e.errorMessages?.length?x(e.errorMessages).concat(l.value).slice(0,Math.max(0,+e.maxErrors)):l.value),d=s(()=>{let i=(e.validateOn??n?.validateOn.value)||"input";i==="lazy"&&(i="input lazy"),i==="eager"&&(i="input eager");const t=new Set(i?.split(" ")??[]);return{input:t.has("input"),blur:t.has("blur")||t.has("input")||t.has("invalid-input"),invalidInput:t.has("invalid-input"),lazy:t.has("lazy"),eager:t.has("eager")}}),f=s(()=>e.error||e.errorMessages?.length?!1:e.rules.length?v.value?l.value.length||d.value.lazy?null:!0:!l.value.length:!0),I=T(!1),$=s(()=>({[`${r}--error`]:f.value===!1,[`${r}--dirty`]:S.value,[`${r}--disabled`]:h.value,[`${r}--readonly`]:C.value})),A=q("validation"),p=s(()=>e.name??ie(o));re(()=>{n?.register({id:p.value,vm:A,validate:m,reset:V,resetValidation:b})}),oe(()=>{n?.unregister(p.value)}),de(async()=>{d.value.lazy||await m(!d.value.eager),n?.update(p.value,f.value,g.value)}),z(()=>d.value.input||d.value.invalidInput&&f.value===!1,()=>{w(u,()=>{if(u.value!=null)m();else if(e.focused){const i=w(()=>e.focused,t=>{t||m(),i()})}})}),z(()=>d.value.blur,()=>{w(()=>e.focused,i=>{i||m()})}),w([f,g],()=>{n?.update(p.value,f.value,g.value)});async function V(){a.value=null,await ce(),await b()}async function b(){v.value=!0,d.value.lazy?l.value=[]:await m(!d.value.eager)}async function m(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=[];I.value=!0;for(const k of e.rules){if(t.length>=+(e.maxErrors??1))break;const y=await(typeof k=="function"?k:()=>k)(u.value);if(y!==!0){if(y!==!1&&typeof y!="string"){console.warn(`${y} is not a valid value. Rule functions must return boolean true or a string.`);continue}t.push(y||"")}}return l.value=t,I.value=!1,v.value=i,l.value}return{errorMessages:g,isDirty:S,isDisabled:h,isReadonly:C,isPristine:v,isValid:f,isValidating:I,reset:V,resetValidation:b,validate:m,validationClasses:$}}const be=P({id:String,appendIcon:_,centerAffix:{type:Boolean,default:!0},prependIcon:_,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":B(),"onClick:append":B(),...R(),...ae(),...L(ne(),["maxWidth","minWidth","width"]),...Y(),...Ie()},"VInput"),xe=E()({name:"VInput",props:{...be()},emits:{"update:modelValue":e=>!0},setup(e,r){let{attrs:o,slots:a,emit:u}=r;const{densityClasses:n}=te(e),{dimensionStyles:l}=se(e),{themeClasses:v}=G(e),{rtlClasses:S}=J(),{InputIcon:h}=fe(e),C=N(),g=s(()=>e.id||`input-${C}`),d=s(()=>`${g.value}-messages`),{errorMessages:f,isDirty:I,isDisabled:$,isReadonly:A,isPristine:p,isValid:V,isValidating:b,reset:m,resetValidation:i,validate:t,validationClasses:k}=Ve(e,"v-input",g),M=s(()=>({id:g,messagesId:d,isDirty:I,isDisabled:$,isReadonly:A,isPristine:p,isValid:V,isValidating:b,reset:m,resetValidation:i,validate:t})),y=s(()=>e.errorMessages?.length||!p.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return F(()=>{const U=!!(a.prepend||e.prependIcon),W=!!(a.append||e.appendIcon),D=y.value.length>0,j=!e.hideDetails||e.hideDetails==="auto"&&(D||!!a.details);return c("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},n.value,v.value,S.value,k.value,e.class],style:[l.value,e.style]},[U&&c("div",{key:"prepend",class:"v-input__prepend"},[a.prepend?.(M.value),e.prependIcon&&c(h,{key:"prepend-icon",name:"prepend"},null)]),a.default&&c("div",{class:"v-input__control"},[a.default?.(M.value)]),W&&c("div",{key:"append",class:"v-input__append"},[e.appendIcon&&c(h,{key:"append-icon",name:"append"},null),a.append?.(M.value)]),j&&c("div",{class:"v-input__details"},[c(ge,{id:d.value,active:D,messages:y.value},{message:a.message}),a.details?.(M.value)])])}),{reset:m,resetValidation:i,validate:t,isValid:V,errorMessages:f}}});export{xe as V,ye as a,he as b,fe as c,be as m,we as u};
